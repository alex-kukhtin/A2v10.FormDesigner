<!doctype html>
<html>
<head lang='en'>
	<meta charset='utf-8'>
	<meta name='viewport' content='width=device-width'>
	<title>A2v10 Form Designer</title>

	<link rel="stylesheet" href="assets/main.css">
	<link rel="stylesheet" href="assets/formdesigner.css">

	<link rel="stylesheet" href="vendor/tabbed.min.css" />

	<style>
		:root {
			--bgPrimary: #fbfbfb;
			--bgControl: #fff;
			--bgMenu: #fff;
			--bgSheet: #fff;
			--text: #000;
			--fontSize: 14px;
			--themeLight: #2d8ecf;
			--neutralBkDark: #e5e4e3;
			--neutralBk: #f3f2f1;
			--link: #208cf8;
			--linkDark: #0669cb;
			--hoverBk: #fdf4bf;
			--activeBk: #cde6f7;
			--hoverBkLight: #fdf4bf;
			--activeBkLight: #cde6f7;
			--dialogHeaderBkColor: #fff29d;
			--dialogHeaderBkColorDark: #ede193;
			--dialog-footer-bg: #f5f5f5;
			/*neutral100*/
			--table-header-bg: #f5f5f5;
			/*neutral100*/
			--table-header-bg-hover: #ececec;
			--table-header-sort: #eeeeee3f;
			--neutral900: #212121;
			--neutral800: #5c5c5c;
			--neutral700: #888888;
			--neutral500: #9e9e9e;
			--neutral400: #bdbdbd;
			--neutral300: #e0e0e0;
			--neutral100: #f5f5f5;
			--neutral50: #fafafa;
			--icon-color: #5c5c5c;
			/*neutral800*/
			--menu-hover: #eeeeee;
			--text-light: #5c5c5c;
			/*neutral800*/
			--text-header: #00000090;
			--text-label: #000000d0;
			--nav900: #212121;
			/*neutral900*/
			--nav800: #5c5c5c;
			/*neutral800*/
			--nav700: #888888;
			/*neutral700*/
			--nav300: #e0e0e0;
			/*neutral300*/
			--nav100: #f0f0f0;
			--nav-bg: #757575;
			--nav-icon: white;
			--nav-text: #ffffffd0;
			--nav-line: #e0e0e0;
			/* neutral300 */
			--nav-accent: #ffda00;
			--mdi-menu-bg: #5c5c5c;
			/*neutral800*/
			--mdi-menu-text: white;
			--mdi-menu-hover: #212121;
			/*neutral900*/
			--mdi-menu-light: #e0e0e0;
			/*neutral300*/
			--mdi-menu-line: #e0e0e0;
			/*neutral300*/
			--default-base: #e0e0e0 /*neutral300*/;
			--primary-base: #3470b4;
			--warning-base: #ffb74d;
			--danger-base: #da533f;
			--success-base: #5db750;
			--info-base: #60bbe5;
		}
	</style>
</head>
<body>
	<div id="app">
		<fd-container :form="Form2" :fields="Fields" :components="Components" :host="host"></fd-container>
	</div>

	<script src='vendor/vue.js'></script>
	<script src='assets/formdesigner.js'></script>
	<script>
		const data = {
			Form2: {
				"UseCollectionView": true, "Schema": "cat",
				"Table": "Stores", "Buttons": null, "Taskpad": { "Is": "Taskpad", "Label": null, "Data": null, "DataType": "_", "Items": [{ "Is": "Panel", "Label": "@Filters", "Data": null, "DataType": "_", "Items": [{ "Is": "Grid", "Label": null, "Data": null, "DataType": "_", "Items": [{ "Is": "Selector", "Label": "@Parent", "Data": "Parent.Filter.Parent", "DataType": "_", "Items": null, "Width": null, "Height": null, "Grid": null, "Command": null, "Props": { "Rows": null, "Columns": null, "Url": "/catalogs/stores", "Placeholder": "@Stores.All", "ShowClear": true, "Style": "Default", "Filters": null } }], "Width": null, "Height": null, "Grid": null, "Command": null, "Props": null }], "Width": null, "Height": null, "Grid": null, "Command": null, "Props": null }], "Width": null, "Height": null, "Grid": null, "Command": null, "Props": null }, "Toolbar": null,
				"Is": "Page", "Label": "@Stores", "Data": "Stores", "DataType": "_",
				"Items": [
					{
						"Is": "Grid", "Label": null, "Data": null,
						"DataType": "_", "Items": [{ "Is": "Toolbar", "Label": null, "Data": null, "DataType": "_", "Items": [{ "Is": "Button", "Label": "@Create", "Data": null, "DataType": "_", "Items": null, "Width": null, "Height": null, "Grid": null, "Command": { "Command": "Create", "Argument": "Parent.ItemsSource", "Url": "/catalogs/stores" }, "Props": null }, { "Is": "Button", "Label": null, "Data": null, "DataType": "_", "Items": null, "Width": null, "Height": null, "Grid": null, "Command": { "Command": "EditSelected", "Argument": "Parent.ItemsSource", "Url": "/catalogs/stores" }, "Props": null }, { "Is": "Button", "Label": null, "Data": null, "DataType": "_", "Items": null, "Width": null, "Height": null, "Grid": null, "Command": { "Command": "Reload", "Argument": null, "Url": null }, "Props": null }, { "Is": "Aligner", "Label": null, "Data": null, "DataType": "_", "Items": null, "Width": null, "Height": null, "Grid": null, "Command": null, "Props": null }, { "Is": "SearchBox", "Label": null, "Data": "Parent.Filter.Fragment", "DataType": "_", "Items": null, "Width": "20rem", "Height": null, "Grid": null, "Command": null, "Props": null }], "Width": null, "Height": null, "Grid": { "Row": 1, "Col": 1, "RowSpan": 0, "ColSpan": 0 }, "Command": null, "Props": null }, { "Is": "DataGrid", "Label": null, "Data": "Parent.ItemsSource", "DataType": "_", "Items": [{ "Is": "DataGridColumn", "Label": "@Id", "Data": "Id", "DataType": "Id", "Items": null, "Width": null, "Height": null, "Grid": null, "Command": null, "Props": null }, { "Is": "DataGridColumn", "Label": "@Parent", "Data": "Parent.Name", "DataType": "_", "Items": null, "Width": null, "Height": null, "Grid": null, "Command": null, "Props": null }, { "Is": "DataGridColumn", "Label": "@Name", "Data": "Name", "DataType": "_", "Items": null, "Width": null, "Height": null, "Grid": null, "Command": null, "Props": null }, { "Is": "DataGridColumn", "Label": "@Memo", "Data": "Memo", "DataType": "_", "Items": null, "Width": null, "Height": null, "Grid": null, "Command": null, "Props": null }, { "Is": "DataGridColumn", "Label": "@Owner", "Data": "Owner", "DataType": "_", "Items": null, "Width": null, "Height": null, "Grid": null, "Command": null, "Props": null }], "Width": null, "Height": "100%", "Grid": { "Row": 2, "Col": 1, "RowSpan": 0, "ColSpan": 0 }, "Command": { "Command": "EditSelected", "Argument": "Parent.ItemsSource", "Url": "/catalogs/stores" }, "Props": null }, { "Is": "Pager", "Label": null, "Data": "Parent.Pager", "DataType": "_", "Items": null, "Width": null, "Height": null, "Grid": { "Row": 3, "Col": 1, "RowSpan": 0, "ColSpan": 0 }, "Command": null, "Props": null }], "Width": null,
						"Height": "60%", "Grid": null,
						"Command": null,
						"Props": {
							"Rows": "auto 1fr auto auto",
							"Columns": "3fr 1fr", "Url": null, "Placeholder": null, "ShowClear": false, "Style": "Default", "Filters": null
						}
					},
					{
						Is: "Grid",
						Items: [],
						Props: {
							Rows: "auto auto",
							Columns: "auto auto"
						}
					}
				],
				"Width": null, "Height": null, "Grid": null, "Command": null, "Props": { "Rows": null, "Columns": null, "Url": null, "Placeholder": null, "ShowClear": false, "Style": "Default", "Filters": "Parent" }
			},
			Form: {
				Is: 'Dialog',
				Label: 'Dialog Title',
				Width: '60rem',
				Items: [
					{
						Id: 1,
						Is: 'Grid',
						Columns2: 'auto auto auto 1fr',
						Rows: 'auto auto auto',
						Items: [
							{
								Is: 'TextBox',
								row: 1,
								col: 1,
								rowSpan: 1,
								colSpan: 2,
								Label: '@[Name]',
								Data: 'Contract.Name',
							},
							{
								Is: 'Selector',
								row: 2,
								col: 3,
								rowSpan: 1,
								colSpan: 1,
								Label: '@[Agent]',
								Data: 'Contract.Agent',
							}
						]
					},
					{
						Is: 'HLine'
					},
					{
						Is: 'Grid',
						Id: 2,
						Columns: 'auto auto auto auto',
						Rows: 'auto auto',
						Items: [
							{
								Is: 'Selector',
								row: 1,
								col: 2,
								Label: '@[Contact]',
								Data: 'Contract.Contact',
							},
							{
								Is: 'Grid',
								Id: 3,
								row: 2,
								col: 3,
								Columns: 'auto auto',
								Rows: 'auto',
								Items: [

								]
							}
						]
					},
					{
						Is: 'HLine'
					},
					{
						Is: 'Grid',
						Id: 4,
						Rows: 'auto 1fr auto',
						Columns: '1fr',
						Items: [
							{
								Is: 'DataGrid',
								Source: 'Contracts',
								row: 2,
								col: 1,
								Height: '20rem',
								Items: [
									{
										Is: 'DataGridColumn',
										Label: '@[Name]',
										Data: 'Name'
									},
									{
										Is: 'DataGridColumn',
										Label: '@[Agent]',
										Data: 'Agent.Name'
									},
									{
										Is: 'DataGridColumn',
										Label: '@[Company]',
										Data: 'Company.Name'
									},
									{
										Is: 'DataGridColumn',
										Label: '@[Memo]',
										Data: 'Memo'
									}
								]
							},
							{
								Is: 'Pager',
								Data: 'Parent.Pager',
								row: 3,
								col: 1
							},
							{
								Is: 'Toolbar',
								row: 1,
								col: 1,
								Items: [
									{
										Is: 'Button',
										Label: '@[New]',
										Command: 'New'
									},
									{
										Is: 'Button',
										Label: '@[Edit]',
										Command: 'Edit'
									},
									{
										Is: 'Aligner',
									},
									{
										Is: 'Button',
										Label: '@[Delete]',
										Command: 'Delete'
									}
								]
							}
						]
					}
				],
				Buttons: [
					{
						Is: "Button",
						Label: "@[Save]",
						Command: 'Save'
					},
					{
						Is: "Button",
						Primary: true,
						Label: "@[SaveAndClose]",
						Command: 'SaveAndClose'
					},
					{
						Is: "Button",
						Label: "@[Cancel]",
						Command: 'Close'
					},
				]
			},
			Components: [
				{
					Is: 'Grid',
					Rows: 'auto auto',
					Columns: 'auto auto',
					Items: []
				},
				{
					Is: "CLabel",
					Label: "Label",
				}
			],
			Fields: [
				{
					Is: 'DatePicker',
					row: 0,
					col: 0,
					Label: '@[Date]',
					Data: 'Contract.Date',
				},
				{
					Is: 'TextBox',
					row: 0,
					col: 0,
					Label: '@[Memo]',
					Data: 'Contract.Memo',
				},
				{
					Is: 'Selector',
					row: 0,
					col: 0,
					Label: '@[Company]',
					Data: 'Contract.Company',
				}
			],
			IsDirty: false
		};

		new Vue({
			el: '#app',
			data: data,
			computed: {
				host() {
					return {
						exec(cmd) {
							alert('fromHost:' + cmd);
						},
						isDirty() { return true; },
						setDirty() {

						}
					};
				}
			}
		});
	</script>
</body>
</html>
